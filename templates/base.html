{% load static %}
<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}MFG{% endblock %}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f7f7f5; --card:#fff; --muted:#6b7280; --line:#ececec;
      --text:#111827; --accent:#2563eb; --accent-600:#1d4ed8;
      --danger:#e11d48; --success:#16a34a;
      --sidebar:#0f172a; --sidebar-muted:#94a3b8;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    .app{display:grid;grid-template-columns:260px 1fr; min-height:100vh}
    .sidebar{background:var(--sidebar);color:#e5e7eb;padding:18px 14px;display:flex;flex-direction:column}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700;margin-bottom:16px}
    .brand .dot{width:28px;height:28px;border-radius:6px;background:#4f46e5;display:inline-block}
    nav a{display:block;padding:8px 10px;margin:2px 0;border-radius:8px;color:var(--sidebar-muted)}
    nav a:hover{background:#111827;color:#fff}
    nav a.active{background:#111827;color:#fff;font-weight:700}
    .subnav{padding-left:8px}
    .main{padding:22px 26px}
    .page-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
    .page-title{font-size:28px;font-weight:700}
    .page-actions{display:flex;gap:8px}
    .blocks{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .block{grid-column:span 12;background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px}
    @media(min-width:900px){.col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}}
    .stat-title{font-size:12px;color:var(--muted)}
    .stat-value{font-size:26px;font-weight:700;margin-top:6px}
    .muted{color:var(--muted)}
    .btn{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--line);background:#fff;border-radius:8px;padding:8px 12px;font-weight:500}
    .btn:hover{background:#fafafa}
    .btn-primary{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn-primary:hover{background:var(--accent-600)}
    .btn-danger{background:var(--danger);border-color:var(--danger);color:#fff}
    .btn-success{background:var(--success);border-color:var(--success);color:#fff}
    table{width:100%;border-collapse:separate;border-spacing:0}
    th,td{padding:10px 12px;border-bottom:1px solid var(--line);vertical-align:middle}
    th{font-size:12px;color:var(--muted);text-align:left}
    tr:hover td{background:#fafafa}
    .right{text-align:right}
    .progress{height:10px;background:#eef2f7;border-radius:999px;overflow:hidden}
    .progress>span{display:block;height:100%;background:var(--accent)}
    .badge{display:inline-flex;align-items:center;border-radius:999px;padding:2px 8px;font-size:12px;border:1px solid var(--line);background:#f9fafb}
    .form{display:grid;gap:14px}
    .field{display:grid;gap:6px}
    .field label{font-weight:600}
    input[type=text], input[type=number], textarea, select{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff}
    textarea{min-height:120px;resize:vertical}
    .form-actions{display:flex;gap:10px}
    .card-title{font-weight:600;margin-bottom:8px}
  </style>
  {% block extra_css %}{% endblock %}
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand"><span class="dot"></span> MFG</div>
      <nav>
        <a href="{% url 'dashboard' %}" id="nav-dash" {% if request.resolver_match.url_name == 'dashboard' %}class="active"{% endif %}>Dashboard</a>
        <div class="muted" style="padding:8px 10px 4px;font-size:12px;">Estoque</div>
        <div class="subnav">
          <a href="{% url 'estoque-componentes' %}" id="nav-comp" {% if request.resolver_match.url_name == 'estoque-componentes' %}class="active"{% endif %}>Componentes</a>
          <a href="{% url 'estoque-produtos' %}" id="nav-prod" {% if request.resolver_match.url_name == 'estoque-produtos' %}class="active"{% endif %}>Produtos</a>
        </div>
        <a href="{% url 'relatorios' %}" id="nav-rel" {% if request.resolver_match.url_name == 'relatorios' %}class="active"{% endif %}>Relatórios</a>
        <a href="{% url 'configuracoes' %}" id="nav-config" {% if request.resolver_match.url_name == 'configuracoes' %}class="active"{% endif %}>Configurações</a>
      </nav>
      <div style="margin-top:auto;font-size:12px;color:#9ca3af">v0.5 • Django</div>
    </aside>

    <main class="main">
      {% if messages %}
        <div style="margin-bottom:10px">
          {% for m in messages %}
            <div class="block" style="padding:10px;border-left:4px solid var(--accent)">{{ m }}</div>
          {% endfor %}
        </div>
      {% endif %}
      {% block content %}{% endblock %}
    </main>
  </div>
  {% block extra_js %}{% endblock %}
</body>
</html>
